\hypertarget{mytcpserver_8h_source}{}\doxysection{mytcpserver.\+h}
\label{mytcpserver_8h_source}\index{prog/mytcpserver.h@{prog/mytcpserver.h}}
\mbox{\hyperlink{mytcpserver_8h}{См. документацию.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ MYTCPSERVER\_H\ }\textcolor{comment}{//\ нужно\ для\ того\ чтобы\ сервер\ объявлялся\ один\ раз}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ MYTCPSERVER\_H\ }\textcolor{comment}{//\ нужно\ для\ того\ чтобы\ сервер\ объявлялся\ один\ раз}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <QObject>}\ \textcolor{comment}{//\ класс\ вокруг\ которого\ построена\ объектная\ модель\ Qt.\ Без\ него\ не\ сможем\ включать\ классические\ вещи\ из\ консольных\ приложений}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <QTcpServer>}\ \textcolor{comment}{//\ для\ сервера}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <QTcpSocket>}\ \textcolor{comment}{//\ для\ соединения\ используем\ сокет}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <QtNetwork>}\ \textcolor{comment}{//\ для\ работы\ по\ сети}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <QByteArray>}\ \textcolor{comment}{//\ для\ передачи\ сообщений\ по\ сети}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <QDebug>}\ \ \textcolor{comment}{//\ для\ вывода\ в\ консоль\ сообщений}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <QMap>}\ \textcolor{comment}{//\ для\ подключения\ контейнера\ map}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{functions_8h}{functions.h}}"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_my_tcp_server}{MyTcpServer}}\ :\ \textcolor{keyword}{public}\ QObject}
\DoxyCodeLine{00023\ \{}
\DoxyCodeLine{00024\ \ \ \ \ Q\_OBJECT}
\DoxyCodeLine{00025\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{class_my_tcp_server}{MyTcpServer}}(QObject\ *parent\ =\ \textcolor{keyword}{nullptr});\ \textcolor{comment}{//\ конструктор,\ где\ ключевое\ слово\ explicit\ не\ дает\ использовать\ конструктора\ неявное\ преобразование\ типов}}
\DoxyCodeLine{00035\ \textcolor{comment}{}\ \ \ \ \mbox{\hyperlink{class_my_tcp_server_ab39e651ff7c37c152215c02c225e79ef}{\string~MyTcpServer}}();\ \textcolor{comment}{//\ деструктор}}
\DoxyCodeLine{00036\ \textcolor{keyword}{public}\ slots:\ \textcolor{comment}{//\ когда\ приходит\ запрос\ на\ подключение\ запускает\ последовательность\ поераций\ которые\ необходимо\ сделать\ при\ подключении\ нового\ клиента}}
\DoxyCodeLine{00040\ \textcolor{comment}{}\ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_my_tcp_server_a0ba7316ffe1a26c57fabde9e74b6c8dc}{slotNewConnection}}();}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_my_tcp_server_a3e040c49dbefd65b9a58ab662fc9f7a2}{slotClientDisconnected}}();}
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_my_tcp_server_ab4a64d2eab985d723090963f5c8a2882}{slotServerRead}}();}
\DoxyCodeLine{00049\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00053\ \ \ \ \ QTcpServer\ *\ mTcpServer;\ \textcolor{comment}{//\ свойство\ объекта\ которое\ будет\ самим\ сервером}}
\DoxyCodeLine{00057\ \textcolor{comment}{}\ \ \ \ QMap\ <int,\ QTcpSocket*>\ mTcpSocket;\ \textcolor{comment}{//\ отвечает\ за\ подключение;\ будем\ хранить\ сокеты\ с\ их\ id}}
\DoxyCodeLine{00061\ \textcolor{comment}{}\ \ \ \ \textcolor{keywordtype}{int}\ server\_status;\ \textcolor{comment}{//\ для\ отладки}}
\DoxyCodeLine{00062\ \};}
\DoxyCodeLine{00063\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ MYTCPSERVER\_H}}
\DoxyCodeLine{00064\ }

\end{DoxyCode}
